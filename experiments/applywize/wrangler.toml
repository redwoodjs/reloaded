#:schema node_modules/wrangler/config-schema.json
name = "applywize"
main = "src/worker.tsx"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]
assets = { binding = "ASSETS", directory = "./public" }

workers_dev = false
routes = [
  { pattern = "applywize.app/*", custom_domain = true },
  { pattern = "*.applywize.app/*", custom_domain = true },
]

[observability]
enabled = true

[[d1_databases]]
binding = "DB"
database_name = "applywize"
database_id = "6b422a1f-e1b0-4429-85ee-9c07f261bb3b"

[[r2_buckets]]
bucket_name = "applywize"
binding = "R2"

[durable_objects]
bindings = [
  { name = "SESSION_DO", class_name = "SessionDO" }
]

[[migrations]]
tag = "v1"
new_classes = [ "SessionDO" ]

[vars]
SECRET_KEY = "secret"
APP_URL="https://applywize.app"
